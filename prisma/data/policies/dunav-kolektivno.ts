// prisma/seed.ts
import {
  Gender,
  PolicyType,
  LimitType,
  PolicyStatus,
  policyholders,
  policies,
  coverages,
} from '@prisma/client';

export const seed = [
  {
    policyholder: {
      firstName: 'Nenad',
      lastName: 'Mićić',
      dateOfBirth: new Date('1986-12-23'),
      email: 'john.doe@example.com',
      phoneNumber: '+123456789',
      street: 'Vojvode Stepe 14',
      city: 'BEOGRAD (RAKOVICA)',
      zip: '11000',
      country: 'Serbia',
      uniqueMasterCitizenNumber: '2312986791018',
      passportNumber: 'P1234567',
      gender: Gender.MALE,
      createdAt: new Date(),
      updatedAt: new Date(),
    },
    policy: (p: policyholders) => ({
      name: 'Kolektivno',
      contractorName: 'Doe Corp',
      insuranceStart: new Date('2024-09-01'),
      start: new Date('2029-01-01'),
      end: new Date('2025-09-01'),
      insuranceCardNumber: 'CARD123456',
      policyNumber: '70047519',
      status: PolicyStatus.ACTIVE,
      type: PolicyType.DZO,
      level: 3,
      limitType: LimitType.LIMIT,
      limit: 3470,
      limitUsage: 0,
      licensePlate: null,
      vinNumber: null,
      color: null,
      vehicleMake: null,
      vehicleModel: null,
      year: null,
      policyholder: {
        connect: p,
      },
      createdAt: new Date(),
      updatedAt: new Date(),

      coverages: (policy: policies) => [
        {
          name: 'Osnovno/BASIC',
          limit: 2000,
          limitType: LimitType.LIMIT,
          limitUsage: 0,
          subLimit: 0,
          subLimitType: LimitType.NO_LIMIT,
          subLimitUsage: 0,
          level: 3,
          participation: 0,
          policyId: policy.id,
          createdAt: new Date(),
          updatedAt: new Date(),
          children: (policy: policies, parent: coverages) => [
            {
              name: 'Vanbolničko lečenje',
              limit: 2000,
              limitType: LimitType.LIMIT,
              limitUsage: 0,
              subLimit: 0,
              subLimitType: LimitType.NO_LIMIT,
              subLimitUsage: 0,
              level: 2,
              participation: 0,
              parent: {
                connect: parent,
              },
              policy: {
                connect: policy,
              },
              createdAt: new Date(),
              updatedAt: new Date(),
              children: (policy: policies, parent: coverages) => [
                {
                  name: 'Psihijatrijske usluge',
                  limit: 200,
                  limitType: LimitType.LIMIT,
                  limitUsage: 0,
                  subLimit: 0,
                  subLimitType: LimitType.NO_LIMIT,
                  subLimitUsage: 0,
                  level: 1,
                  participation: 0,
                  parent: {
                    connect: parent,
                  },
                  policy: {
                    connect: policy,
                  },
                  createdAt: new Date(),
                  updatedAt: new Date(),
                },
                {
                  name: 'Pregledi ovlašćenog lekara',
                  limit: 0,
                  limitType: LimitType.NO_LIMIT,
                  limitUsage: 0,
                  subLimit: 0,
                  subLimitType: LimitType.NO_LIMIT,
                  subLimitUsage: 0,
                  level: 1,
                  participation: 0,
                  parent: {
                    connect: parent,
                  },
                  policy: {
                    connect: policy,
                  },
                  createdAt: new Date(),
                  updatedAt: new Date(),
                },
              ],
            },
            {
              name: 'Bolničko lečenje',
              limit: 2000,
              limitType: LimitType.LIMIT,
              limitUsage: 0,
              subLimit: 0,
              subLimitType: LimitType.NO_LIMIT,
              subLimitUsage: 0,
              level: 2,
              participation: 0,
              parent: {
                connect: parent,
              },
              policy: {
                connect: policy,
              },
              createdAt: new Date(),
              updatedAt: new Date(),
            },
          ],
        },
      ],
    }),
  },
];
